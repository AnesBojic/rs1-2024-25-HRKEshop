<div class="product-container">
  <div class="header">
    <h2>Lista proizvoda</h2>
    <button *ngIf="isAdmin" class="btn-add" (click)="goToNewProduct()">
      ➕ Dodaj novi proizvod
    </button>
  </div>

  <div class="products-grid">
    <div class="product-card" *ngFor="let p of products">
      <img [src]="getProductImageUrl(p)"
           (error)="onImageError($event)"
           alt="{{ p.name }}" />

      <div class="card-body">
        <h3>{{ p.name }}</h3>
        <p class="price">{{ p.price | currency:'BAM':'symbol' }}</p>
      </div>

      <div class="card-actions" *ngIf="isAdmin">
        <button class="btn-edit" (click)="editProduct(p.id)">✏ Uredi</button>
        <button class="btn-delete" (click)="deleteProduct(p.id)">🗑 Obriši</button>
      </div>
    </div>
  </div>

  <!-- Paginacija -->
  <div class="pagination">
    <button [disabled]="currentPage === 1"
            (click)="loadProducts(currentPage - 1)">
      ◀ Prethodna
    </button>

    <span>Stranica {{ currentPage }} / {{ totalPages }}</span>

    <button [disabled]="currentPage === totalPages"
            (click)="loadProducts(currentPage + 1)">
      Sljedeća ▶
    </button>
  </div>
</div>
